<!-- app/views/accounts/manage.html.erb -->
<div class="container mt-5">
  <!-- Banner Section -->
  <div class="banner" style="position: relative;">
    <%= image_tag('https://picsum.photos/1200/300', alt: "Cover Photo", class: "img-fluid w-100", style: "height: 400px; object-fit: cover;") %>

    <!-- Profile Picture and Name -->
    <div class="profile-info d-flex align-items-center" style="position: absolute; bottom: -130px; left: 20px;">
      <div class="profile-picture-wrapper" style="position: relative;">
        <%= image_tag('https://picsum.photos/100', alt: "Profile Picture", class: "rounded-circle border border-white", style: "width: 150px; height: 150px; object-fit: cover;") %>
      </div>
      <div class="mt-3" style="margin-left: 1rem;">
        <h3><%= @user.name %></h3>
        <p class="text-muted">Your Account</p>
        <!-- Buttons Section -->
        <div class="mt-3">
          <%= link_to 'Add Story', '#', class: 'btn btn-secondary me-2' %>
          <%= link_to 'Edit Profile', '#', class: 'btn btn-primary' %>
        </div>
      </div>
    </div>
  </div>

  <!-- Spacer to prevent overlapping content -->
  <div style="height: 150px;"></div> <!-- Thay vì sử dụng mt-10 và pt-10 -->

  <!-- Tabs Section -->
  <ul class="nav nav-tabs mt-4"> <!-- Thêm mt-4 để tạo khoảng cách trên -->
    <li class="nav-item">
      <%= link_to 'Posts', '#', class: 'nav-link active' %>
    </li>
    <li class="nav-item">
      <%= link_to 'About', '#', class: 'nav-link' %>
    </li>
    <li class="nav-item">
      <%= link_to 'Friends', '#', class: 'nav-link' %>
    </li>
    <li class="nav-item">
      <%= link_to 'Photos', '#', class: 'nav-link' %>
    </li>
    <li class="nav-item">
      <%= link_to 'More', '#', class: 'nav-link' %>
    </li>
  </ul>

  <!-- User Posts Section -->
  
  <!-- Main Content Grid -->
  <div class="row mt-4">
    <!-- Left Column -->
    <div class="col-md-4">
      <!-- Top Left: Account Details -->
      <div class="mb-4 p-3 border rounded">
        <h5>Account Details</h5>
        <p>Name: <%= @user.name %></p>
        <p>Email: <%= @user.email %></p>
        <%= link_to 'Edit Details', '#', class: 'btn btn-warning' %>
      </div>
      
      <!-- Bottom Left: Photos -->
      <div class="mb-4 p-3 border rounded">
        <h5>Photos</h5>
        <div class="row">
          <div class="col-6">
            <%= image_tag('https://picsum.photos/100', class: 'img-fluid mb-2') %>
          </div>
          <div class="col-6">
            <%= image_tag('https://picsum.photos/100', class: 'img-fluid mb-2') %>
          </div>
          <div class="col-6">
            <%= image_tag('https://picsum.photos/100', class: 'img-fluid mb-2') %>
          </div>
          <div class="col-6">
            <%= image_tag('https://picsum.photos/100', class: 'img-fluid mb-2') %>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column -->
    <div class="col-md-8">
      <!-- Top Right: Input and Buttons -->
      <div class="mb-4 p-3 border rounded">
        <h5>What's on your mind?</h5>
        <%= form_with(model: @post, url: api_posts_path, local: false, remote: true) do |form| %>
          <div class="form-group">
            <input type="text" id="context" class="form-control" placeholder="Type on your mind..." data-controller="remote_modal" data-action="focus->remote_modal#isOpen" data-modal-id="postModal">
          </div>
          <div id="postModal" class="modal">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Create Post</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form id="postForm">
                  <label for="title">Title:</label>
                  <input type="text" id="title" class="form-control" placeholder="Enter title"><br><br>
                  <label for="content">Content:</label>
                  <textarea id="content" class="form-control" placeholder="Enter content"></textarea><br><br>
                  <input type="file" id="imageUpload" class="form-control" accept="image/*">
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="postButton">Post</button>
              </div>
            </div>
          </div>
          </div>
          <div class="form-group">
            <%= form.file_field :image, class: 'form-control', accept: 'image/*' %>
          </div>
          <div class="mt-2">
            <%= form.submit 'Post', class: 'btn btn-primary me-2', id: 'postButton' %>
          </div>
        <% end %>
      </div>

      <!-- Bottom Right: User Post -->
      <div class="mb-4 p-3 border rounded">
        <h5>Your Post</h5>
        <div id="resultPost" ></div>
        
      </div>
    </div>
</div>

